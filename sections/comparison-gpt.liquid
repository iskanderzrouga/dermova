<section class="comparison-section {{ section.id }}">
  <div class="page-width">

    {% if section.settings.heading != blank %}
      <h2 class="comparison-section__heading">
        {{ section.settings.heading }}
      </h2>
    {% endif %}

    <div class="comparison-table-wrapper">
      <table class="comparison-table">

        <thead>
          <tr>
            <th class="col-feature">&nbsp;</th>
            <th class="col-highlight">{{ section.settings.center_title }}</th>
            <th class="col-normal">{{ section.settings.right_title }}</th>
          </tr>
        </thead>

        <tbody>
          {% for block in section.blocks %}
            <tr {{ block.shopify_attributes }}>

              <!-- LEFT COLUMN -->
              <td class="col-feature">
                {% if block.settings.icon-img %}
                  <img
                    src="{{ block.settings.icon-img | img_url: 'master' }}"
                    width="25"
                    height="25"
                    loading="lazy"
                  >
                {% endif %}
                <span>{{ block.settings.feature }}</span>
              </td>

              <!-- CENTER COLUMN -->
              <td class="col-highlight">
                {% case block.settings.center-icon %}
                  {% when 'tickmark' %}{% render 'icon-tickmark' %}
                  {% when 'cross' %}{% render 'icon-cross' %}
                  {% when 'warning' %}{% render 'icon-warning' %}
                  {% else %}
                {% endcase %}
                <span>{{ block.settings.center_value }}</span>
              </td>

              <!-- RIGHT COLUMN -->
              <td class="col-normal">
                {% case block.settings.right-icon %}
                  {% when 'tickmark' %}{% render 'icon-tickmark' %}
                  {% when 'cross' %}{% render 'icon-cross' %}
                  {% when 'warning' %}{% render 'icon-warning' %}
                {% else %}
                {% endcase %}
                <span>{{ block.settings.right_value }}</span>
              </td>

            </tr>
          {% endfor %}
        </tbody>

      </table>
    </div>

  </div>
</section>

{% style %}
  .comparison-section .page-width {
  max-width: 1320px;
}

/* SECTION */
.{{ section.id }} {
  padding: {{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px;
  background: {{ section.settings.background }};
}

.{{ section.id }} .comparison-section__heading {
  text-align: center;
  font-size: {{ section.settings.heading_size_desktop }}px;
  font-weight: {{ section.settings.heading_weight }};
  margin: 0 0 40px;
}

/* TABLE */
.{{ section.id }} .comparison-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  /* border: 1.5px solid #39585B; */
  border-radius: 20px;
  /* overflow: hidden; */
}

/* HEAD */
.{{ section.id }} thead th {
  font-size: 36px; /* SAME AS YOUR CODE */
  font-weight: 700;
  padding: 20px 10px;
  text-align: center;
  background: #fff;
}

.{{ section.id }} thead th.col-highlight {
  background: #39585B;
  color: #fff;
  border-top-left-radius: 20px;
  border-top-right-radius: 20px;
}

/* BODY */
.{{ section.id }} tbody td {
  font-size: 24px; /* SAME AS YOUR CODE */
  padding: 18px;
  border-top: 1px solid #E3ECEC;
  vertical-align: middle;
}

/* LEFT COLUMN */
.col-feature {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* CENTER COLUMN (HIGHLIGHT) */
.col-highlight {
  background: #39585B;
  color: #fff;
  text-align: center;
  border-top: 1px solid rgba(255,255,255,0.15);
}

.{{ section.id }} tbody tr:last-child td.col-highlight {
  border-bottom-left-radius: 20px;
  border-bottom-right-radius: 20px;
}

/* RIGHT COLUMN */
.col-normal {
  text-align: center;
}

/* ICON + TEXT ALIGN */
.col-highlight span,
.col-normal span {
  margin-left: 6px;
}

@media screen and (min-width:769px){
  .{{ section.id }} td.col-highlight,.{{ section.id }}  td.col-normal {
      padding-left: 40px !important;
  }
}

/* MOBILE — KEEP 3 COLUMNS */
@media (max-width: 768px) {
  
.{{ section.id }} .comparison-section__heading {
  font-size: 28px;
}
  .{{ section.id }} thead th {
    font-size: 16px;
  }

  .{{ section.id }} tbody td {
    font-size: 12px;
    padding: 16px 10px !important;
  }

  .{{ section.id }} table.comparison-table svg {
    width: 22px;
}
}


/* Left vertical border */
.{{ section.id }} td.col-feature {
  border-left: 1px solid #39585B;
}

/* FIRST ROW */
.{{ section.id }} tbody tr:first-child td.col-feature {
  border-top: 1px solid #39585B;
  border-top-left-radius: 20px;
}

/* LAST ROW */
.{{ section.id }} tbody tr:last-child td.col-feature {
  /* border-bottom: 1px solid #39585B;
  border-bottom-left-radius: 20px; */
}


/* Right vertical border */
.{{ section.id }} td.col-normal {
  border-right: 1px solid #39585B;
}

/* FIRST ROW */
.{{ section.id }} tbody tr:first-child td.col-normal {
  border-top: 1px solid #39585B;
  border-top-right-radius: 20px;
}

/* LAST ROW */
.{{ section.id }} tbody tr:last-child td.col-normal {
  border-bottom: 1px solid #39585B;
  border-bottom-right-radius: 20px;
}

.{{ section.id }} td.col-highlight {
  background: #39585B;
  color: #fff;
}

/* Rounded top */
.{{ section.id }} thead th.col-highlight {
  border-top-left-radius: 20px;
  border-top-right-radius: 20px;
}

/* Rounded bottom */
.{{ section.id }} tbody tr:last-child td.col-highlight {
  border-bottom-left-radius: 20px;
  border-bottom-right-radius: 20px;
}

.{{ section.id }} tbody tr:last-child td.col-highlight {
    position: relative;
    z-index: 0;
}

.{{ section.id }} tbody tr:last-child td.col-highlight:after {
    position: absolute;
    content: "";
    background: #39585b;
    height: 79%;
    width: 100%;
    left: 0px;
    bottom: -22px;
    border-radius: 0px 0px 20px 20px;
    z-index: -1;
}

.{{ section.id }} th.col-highlight, .{{ section.id }} th.col-normal {
    line-height: 100%;
}

.{{ section.id }} td.col-highlight {
    border: 1px solid #39585b !important;
    border-top: unset !important;
}

.{{ section.id }} td.col-feature {
    padding-left: 30px !important;
}

.{{ section.id }} td.col-highlight,.{{ section.id }}  td.col-normal {
    text-align: left;
}

.{{ section.id }} tbody{
  position:relative;
}
.{{ section.id }} tbody:after {
    border: 1px solid #39585B;
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    border-radius: 20px;
}

button#es-sticky {
    margin-bottom: 10px !important;
}

@media screen and (max-width:600px){
  .{{ section.id }} td.col-feature {
    padding: 16px 10px !important;
  }
}

{% endstyle %}

{% schema %}
{
  "name": "Comp table gpt",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section heading",
      "default": "Why 6,200+ Thai Women Switched To Dermova"
    },
    {
      "type": "text",
      "id": "center_title",
      "label": "Center column title",
      "default": "DERMOVA PEPTIVA"
    },
    {
      "type": "text",
      "id": "right_title",
      "label": "Right column title",
      "default": "PILLS & SERUMS"
    },
    {
      "type": "color",
      "id": "background",
      "label": "Background color",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "heading_size_desktop",
      "label": "Heading size desktop",
      "min": 20,
      "max": 56,
      "step": 1,
      "default": 32
    },
    {
      "type": "range",
      "id": "heading_size_mobile",
      "label": "Heading size mobile",
      "min": 18,
      "max": 36,
      "step": 1,
      "default": 24
    },
    {
      "type": "select",
      "id": "heading_weight",
      "label": "Heading font weight",
      "default": "700",
      "options": [
        { "value": "400", "label": "Regular" },
        { "value": "500", "label": "Medium" },
        { "value": "600", "label": "Semi Bold" },
        { "value": "700", "label": "Bold" }
      ]
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top",
      "min": 0,
      "max": 160,
      "step": 8,
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom",
      "min": 0,
      "max": 160,
      "step": 8,
      "default": 80
    }
  ],
  "blocks": [
    {
      "type": "row",
      "name": "Comparison Row",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon-img",
          "label": "Left icon"
        },
        {
          "type": "text",
          "id": "feature",
          "label": "Left text",
          "default": "Reaches Roots (3–4mm Deep)"
        },
        {
          "type": "select",
          "id": "center-icon",
          "label": "Center icon",
          "options": [
            { "value": "tickmark", "label": "Tickmark" },
            { "value": "cross", "label": "Cross" },
            { "value": "warning", "label": "Warning" },
            { "value": "none", "label": "None" }
          ],
          "default": "tickmark"
        },
        {
          "type": "text",
          "id": "center_value",
          "label": "Center text",
          "default": "Yes"
        },
        {
          "type": "select",
          "id": "right-icon",
          "label": "Right icon",
          "options": [
            { "value": "tickmark", "label": "Tickmark" },
            { "value": "cross", "label": "Cross" },
            { "value": "warning", "label": "Warning" },
            { "value": "none", "label": "None" }
          ],
          "default": "cross"
        },
        {
          "type": "text",
          "id": "right_value",
          "label": "Right text",
          "default": "No"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Comp table gpt"
    }
  ]
}
{% endschema %}
